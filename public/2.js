webpackJsonp([2],{311:function(t,i,a){var o=a(312);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(4)("0c038114",o,!0,{})},312:function(t,i,a){(t.exports=a(3)(!1)).push([t.i,".card[data-v-c1db1592]{min-width:160px}.content-space[data-v-c1db1592]{padding:0 .5rem;height:7.3rem;text-align:right;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.content-space-icon[data-v-c1db1592]{font-size:3rem}.fade-enter-active[data-v-c1db1592]{-webkit-transition:opacity 1s;transition:opacity 1s}.fade-enter[data-v-c1db1592],.fade-leave-to[data-v-c1db1592]{opacity:0}.order-notify-clear[data-v-c1db1592]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}",""])},313:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=a(314),n=a.n(o);i.default={data:function(){return{sum_today:{today_unified_count:{name:"支付订单数量",sum:"",icon:"trending_up",title:"已支付并且有效的订单",backgroundColor:"#F0AD4E"},today_unified_amount:{name:"支付订单金额",sum:"",icon:"account_balance",title:"已支付并且有效的订单",backgroundColor:"#F0AD4E"},today_unified_un_pay_count:{name:"待支付数量",sum:"",icon:"trending_up",title:"未支付的新订单",backgroundColor:"#F0AD4E"},today_unified_un_pay_amount:{name:"待支付金额",sum:"",icon:"account_balance",title:"未支付的新订单",backgroundColor:"#F0AD4E"},today_withdraw_count:{name:"提现数量",sum:"",icon:"trending_up",title:"申请提现成功",backgroundColor:"#00A98E"},today_withdraw_amount:{name:"提现金额",sum:"",icon:"account_balance_wallet",title:"申请提现成功",backgroundColor:"#00A98E"},today_withdraw_un_count:{name:"提现待处理数量",sum:"",icon:"trending_up",title:"申请提现中",backgroundColor:"#5CB85C"},today_withdraw_un_amount:{name:"提现待处理金额",sum:"",icon:"account_balance_wallet",title:"申请提现中",backgroundColor:"#5CB85C"},today_new_user_count:{name:"用户新增",sum:"",icon:"person",title:"新钱包数据",backgroundColor:"#337AB7"},today_transfer:{name:"流水记录",sum:"",icon:"swap_horiz",title:"有效转账记录",backgroundColor:"#32C24D"},today_behavior_count:{name:"接口调用",sum:"",icon:"check_circle",title:"商户API请求次数",backgroundColor:"#4CAF50"},today_behavior_error_count:{name:"接口错误",sum:"",icon:"bug_report",title:"商户API未成功返回",backgroundColor:"#D9534F"}},sum_yesterday:{yesterday_unified_count:{name:"支付订单数量",sum:"",icon:"trending_up",title:"已支付并且有效的订单",backgroundColor:"#F0AD4E"},yesterday_unified_amount:{name:"支付订单金额",sum:"",icon:"account_balance",title:"已支付并且有效的订单",backgroundColor:"#F0AD4E"},yesterday_unified_un_pay_count:{name:"待支付数量",sum:"",icon:"trending_up",title:"未支付的新订单",backgroundColor:"#F0AD4E"},yesterday_unified_un_pay_amount:{name:"待支付金额",sum:"",icon:"account_balance",title:"未支付的新订单",backgroundColor:"#F0AD4E"},yesterday_withdraw_count:{name:"提现数量",sum:"",icon:"trending_up",title:"申请提现成功",backgroundColor:"#00A98E"},yesterday_withdraw_amount:{name:"提现金额",sum:"",icon:"account_balance_wallet",title:"申请提现成功",backgroundColor:"#00A98E"},yesterday_withdraw_un_count:{name:"提现待处理数量",sum:"",icon:"trending_up",title:"申请提现中",backgroundColor:"#5CB85C"},yesterday_withdraw_un_amount:{name:"提现待处理金额",sum:"",icon:"account_balance_wallet",title:"申请提现中",backgroundColor:"#5CB85C"},yesterday_new_user_count:{name:"用户新增",sum:"",icon:"person",title:"新钱包数据",backgroundColor:"#337AB7"},yesterday_transfer:{name:"流水记录",sum:"",icon:"swap_horiz",title:"有效转账记录",backgroundColor:"#32C24D"},yesterday_behavior_count:{name:"接口调用",sum:"",icon:"check_circle",title:"商户API请求次数",backgroundColor:"#4CAF50"},yesterday_behavior_error_count:{name:"接口错误",sum:"",icon:"bug_report",title:"商户API未成功返回",backgroundColor:"#D9534F"}},order_notify:[]}},methods:{order_unnotify:function(){var t=this;t.$API.get("/index/order_unnotify").then(function(i){t.order_notify=i}).catch(function(t){})},today:function(){var t=this;t.$API.get("/index/sum_today").then(function(i){for(var a in t.sum_today)t.sum_today[a].sum=i[a].sum}).catch(function(t){})},yesterday:function(){var t=this;t.$API.get("/index/sum_yesterday").then(function(i){for(var a in t.sum_yesterday)t.sum_yesterday[a].sum=i[a].sum}).catch(function(t){})},notify:function(t){var i=this;mdui.confirm("请求重新进入通知队列，如果多次失败请检查队列(queue)服务配置，点击【确定】继续","手动发起异步通知",function(){i.$API.post("/order/notify",{id:t}).then(function(t){mdui.alert("已重新分发通知任务",function(){},{history:!1}),i.order_unnotify()}).catch(function(t){})},function(){},{history:!1,confirmText:"确定",cancelText:"取消"})}},mounted:function(){this.today(),this.yesterday(),this.order_unnotify()},components:{NumberGrow:n.a}}},314:function(t,i,a){var o=a(1)(a(317),a(318),!1,function(t){a(315)},null,null);t.exports=o.exports},315:function(t,i,a){var o=a(316);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(4)("0516d927",o,!0,{})},316:function(t,i,a){(t.exports=a(3)(!1)).push([t.i,".number-grow-warp{-webkit-transform:translateZ(0);transform:translateZ(0)}",""])},317:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={props:{time:{type:Number,default:1},value:""},data:function(){return{number:"--"}},watch:{value:function(t,i){this.numberGrow()}},methods:{numberGrow:function(){if(""!==this.value)var t=this,i=(t.value.toString().split(".")[1]||0).length,a=10*t.value/(1e3*t.time),o=0,n=setInterval(function(){if((o+=a)>=t.value)return t.number=t.value,void clearInterval(n);t.number=o.toFixed(i).toString().replace(/(\d)(?=(?:\d{3}[+]?)+$)/g,"$1,")},10)}}}},318:function(t,i){t.exports={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"number-grow-warp"},[i("span",{ref:"numberGrow",staticClass:"number-grow",attrs:{"data-time":this.time,"data-value":this.value},domProps:{textContent:this._s(this.number)}})])},staticRenderFns:[]}},319:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("transition",{attrs:{appear:"",name:"fade"}},[a("div",{staticClass:"welcome"},[a("div",{staticClass:"mdui-toolbar mdui-color-teal"},[a("i",{staticClass:"mdui-icon material-icons"},[t._v("visibility")]),t._v(" "),a("span",[t._v("今日实时数据统计")]),t._v(" "),a("div",{staticClass:"mdui-toolbar-spacer"}),t._v(" "),a("a",{staticClass:"mdui-btn mdui-ripple mdui-btn-icon",on:{click:t.today}},[a("i",{staticClass:"mdui-icon material-icons"},[t._v("refresh")])])]),t._v(" "),t.sum_today?a("div",{staticClass:"card-group mdui-p-t-2"},[a("div",{staticClass:"mdui-row-xs-2 mdui-row-sm-3 mdui-row-md-4 mdui-row-lg-5 mdui-row-xl-6"},t._l(t.sum_today,function(i,o){return a("div",{staticClass:"mdui-col"},[a("div",{staticClass:"mdui-card mdui-m-b-2 card"},[a("div",{staticClass:"mdui-card-media"},[a("div",{staticClass:"mdui-valign content-space"},[a("i",{staticClass:"mdui-icon material-icons content-space-icon",style:{color:i.backgroundColor}},[t._v(t._s(i.icon))])]),t._v(" "),a("div",{staticClass:"mdui-card-media-covered mdui-card-media-covered-transparent"},[a("div",{staticClass:"mdui-card-primary"},[a("div",{staticClass:"mdui-card-primary-title mdui-text-color-red-300"},[a("number-grow",{attrs:{value:i.sum}})],1),t._v(" "),a("div",{staticClass:"mdui-card-primary-subtitle mdui-text-color-black",domProps:{textContent:t._s(i.name)}}),t._v(" "),a("div",{staticClass:"mdui-typo-caption mdui-typo-caption-opacity mdui-text-color-grey-700",domProps:{textContent:t._s(i.title)}})])])])])])}))]):t._e(),t._v(" "),a("div",{staticClass:"mdui-toolbar mdui-color-indigo"},[a("i",{staticClass:"mdui-icon material-icons"},[t._v("save")]),t._v(" "),a("span",[t._v("昨日数据统计")]),t._v(" "),a("div",{staticClass:"mdui-toolbar-spacer"})]),t._v(" "),t.sum_yesterday?a("div",{staticClass:"card-group mdui-p-t-2"},[a("div",{staticClass:"mdui-row-xs-2 mdui-row-sm-3 mdui-row-md-4 mdui-row-lg-5 mdui-row-xl-6"},t._l(t.sum_yesterday,function(i,o){return a("div",{staticClass:"mdui-col"},[a("div",{staticClass:"mdui-card mdui-m-b-2 card"},[a("div",{staticClass:"mdui-card-media"},[a("div",{staticClass:"mdui-valign content-space"},[a("i",{staticClass:"mdui-icon material-icons content-space-icon",style:{color:i.backgroundColor}},[t._v(t._s(i.icon))])]),t._v(" "),a("div",{staticClass:"mdui-card-media-covered mdui-card-media-covered-transparent"},[a("div",{staticClass:"mdui-card-primary"},[a("div",{staticClass:"mdui-card-primary-title mdui-text-color-red-300"},[a("number-grow",{attrs:{value:i.sum}})],1),t._v(" "),a("div",{staticClass:"mdui-card-primary-subtitle mdui-text-color-black",domProps:{textContent:t._s(i.name)}}),t._v(" "),a("div",{staticClass:"mdui-typo-caption mdui-typo-caption-opacity mdui-text-color-grey-700",domProps:{textContent:t._s(i.title)}})])])])])])}))]):t._e(),t._v(" "),a("div",{staticClass:"order-notify"},[a("div",{class:{"mdui-toolbar":!0,"mdui-color-pink":t.order_notify.length>0,"mdui-color-green":t.order_notify.length<=0}},[a("a",{staticClass:"mdui-btn mdui-btn-icon"},[a("i",{staticClass:"mdui-icon material-icons"},[t._v("error_outline")])]),t._v(" "),a("span",{attrs:{title:"此数据为最新20条，详情请在订单管理中筛选查看，请及时处理"}},[t._v("支付成功但未成功通知商户订单")]),t._v(" "),a("div",{staticClass:"mdui-toolbar-spacer"}),t._v(" "),a("a",{staticClass:"mdui-btn mdui-ripple mdui-btn-icon",on:{click:t.order_unnotify}},[a("i",{staticClass:"mdui-icon material-icons"},[t._v("refresh")])])]),t._v(" "),a("div",{staticClass:"mdui-table-fluid"},[a("table",{staticClass:"mdui-table mdui-table-hoverable"},[a("thead",[a("tr",[a("th",[t._v("订单ID")]),t._v(" "),a("th",[t._v("订单号")]),t._v(" "),a("th",[t._v("金额(分)")]),t._v(" "),a("th",[t._v("支付时间")]),t._v(" "),a("th",[t._v("操作")])])]),t._v(" "),a("tbody",[t.order_notify.length>0?t._l(t.order_notify,function(i,o){return a("tr",[a("td",{domProps:{textContent:t._s(i.id)}}),t._v(" "),a("td",{domProps:{textContent:t._s(i.order_no)}}),t._v(" "),a("td",{domProps:{textContent:t._s(i.amount)}}),t._v(" "),a("td",{domProps:{textContent:t._s(i.pay_time)}}),t._v(" "),a("td",[a("a",{staticClass:"mdui-btn mdui-ripple mdui-color-pink",on:{click:function(a){t.notify(i.id)}}},[t._v("手动通知")])])])}):[a("tr",[a("td",{attrs:{colspan:"5"}},[a("div",{staticClass:"mdui-p-y-2 mdui-valign order-notify-clear"},[a("span",{staticClass:"mdui-m-r-1"},[t._v("服务正常工作中")]),a("i",{staticClass:"mdui-icon material-icons mdui-text-color-green"},[t._v("sentiment_satisfied")])])])])]],2)])])])])])},staticRenderFns:[]}},367:function(t,i,a){var o=a(1)(a(313),a(319),!1,function(t){a(311)},"data-v-c1db1592",null);t.exports=o.exports}});